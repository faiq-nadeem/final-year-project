{"ast":null,"code":"// import React from 'react'\n// class SubCategory extends React.Component{\n//     constructor(props){\n//         super(props)\n//         this.state = {\n//             allCategories   : [],\n//             allSubCategories: [],\n//             addSubCategory  : {\n//                 name       : '',\n//                 description: '',\n//                 categoryId : '',\n//                 id         : '0'\n//             },\n//             isUpdated: false\n//         }\n//         this.getAllCategories        = this.getAllCategories.bind(this)\n//         this.getAllSubCategories     = this.getAllSubCategories.bind(this)\n//         this.handleChange            = this.handleChange.bind(this)\n//         this.handleAddSubCategory    = this.handleAddSubCategory.bind(this)\n//         this.getSubCategory          = this.getSubCategory.bind(this)\n//         this.handleUpdateSubCategory = this.handleUpdateSubCategory.bind(this)\n//         this.deleteSubCategory       = this.deleteSubCategory.bind(this)\n//     }\n//     componentWillMount() {\n//         this.getAllCategories()\n//         this.getAllSubCategories()\n//     }\n//     getAllCategories() {\n//         fetch('http://localhost:8080/api/categories').then(res => res.json()).then(result => {\n//             this.setState({\n//                 allCategories : result,\n//                 isUpdated: false\n//             })\n//         })\n//     }\n//     getAllSubCategories() {\n//         fetch('http://localhost:8080/api/subCategories').then(res => res.json()).then(result => {\n//             this.setState({\n//                 allSubCategories : result,\n//                 isUpdated: false\n//             })\n//         })\n//     }\n//     handleChange(event) {\n//         this.setState({\n//             addSubCategory:{\n//                 ...this.state.addSubCategory,\n//                 [event.target.name]: event.target.value,\n//                 id                 : this.state.addSubCategory.id\n//             }\n//         })\n//     }\n//     handleAddSubCategory() {\n//         // alert(JSON.stringify(this.state.addSubCategory))\n//         fetch('http://localhost:8080/api/subCategories/addSubCategory', {\n//             method : 'POST',\n//             headers: {\n//                 'Content-Type': 'application/json'\n//             },\n//             body: JSON.stringify(this.state.addSubCategory)\n//         }).then(this.setState({\n//             addSubCategory: {\n//                 name       : '',\n//                 description: '',\n//                 categoryId : '',\n//             },\n//             isUpdated: false\n//         }))\n//     }\n//     getSubCategory(event, id) {\n//         fetch('http://localhost:8080/api/subCategories' + id).then(res => res.json()).then(result => {\n//             this.setState({\n//                 addSubCategory: {\n//                     name       : result[0].name,\n//                     description: result[0].description,\n//                     categoryId : result[0].categoryId,\n//                     id         : result[0].id\n//                 },\n//                 isUpdated: true\n//             })\n//         })\n//     }\n//     handleUpdateSubCategory() {\n//         fetch('http://localhost:8080/api/subCategories' + this.state.addSubCategory.id, {\n//             method : 'PUT',\n//             headers: {\n//                 'Content-Type': 'application/json'\n//             },\n//             body: JSON.stringify(this.state.addSubCategory)\n//         }).then(\n//             this.getAllSubCategories()\n//         )\n//     }\n//     deleteSubCategory(event, id) {\n//         fetch('http://localhost:8080/api/subCategories' + id, {\n//             method : 'DELETE',\n//         }).then(\n//             this.getAllSubCategories()\n//         )\n//     }\n//     render(){\n//         return(\n//             <div>\n//             <div className=\"header bg-primary pb-6\">\n//                 <div className=\"container-fluid\">\n//                     <div className=\"header-body\">\n//                         <div className=\"row align-items-center py-4\">\n//                             <div className=\"col-lg-6 col-7\">\n//                                 <nav aria-label=\"breadcrumb\" className=\"d-none d-md-inline-block ml-md-4\">\n//                                     <ol className=\"breadcrumb breadcrumb-links breadcrumb-dark\">\n//                                         <li className=\"breadcrumb-item\"><a href=\"dashboard.php\"><i className=\"fas fa-home\"></i></a></li>\n//                                         <li className=\"breadcrumb-item\"><a href=\"banners.php\">Sub Categories</a></li>\n//                                     </ol>\n//                                 </nav>\n//                             </div>\n//                             <div className=\"col-lg-6 col-5 text-right\">\n//                                 <button type=\"button\" className=\"btn btn-sm btn-neutral\" data-toggle=\"modal\" data-target=\"#new\" onclick=\"call_all_images()\">\n//                                 <span className=\"btn-inner--icon\"><i className=\"ni ni-fat-add\"></i></span>\n//                                 <span className=\"btn-inner--text\">Add Sub-category</span>\n//                                 </button>\n//                             </div>\n//                             <div className=\"modal fade\" id=\"new\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\n//                                 <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\n//                                     <div className=\"modal-content\">\n//                                         <form>\n//                                             <div className=\"modal-header\">\n//                                                 <h6 className=\"modal-title\" id=\"modal-title-default\">Add new sub-category</h6>\n//                                                 <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n//                                                 <span aria-hidden=\"true\">×</span>\n//                                                 </button>\n//                                             </div>\n//                                             <div className=\"modal-body\">\n//                                                 <div className=\"form-group mb-3\">\n//                                                     <div className=\"row\">\n//                                                         <div className=\"col-lg-6 input-group input-group-merge\">\n//                                                             <div className=\"input-group-prepend\">\n//                                                                 <span className=\"input-group-text\"><i className=\"ni ni-books\"></i></span>\n//                                                             </div>\n//                                                             <input className=\"form-control\" placeholder=\"Enter Name\" type=\"text\" name=\"name\" value={this.state.addSubCategory.name} onChange={this.handleChange} />\n//                                                         </div>\n//                                                         <div className=\"col-lg-6 input-group input-group-merge\">\n//                                                             <div className=\"input-group-prepend\">\n//                                                                 <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\n//                                                             </div>\n//                                                             <select className=\"form-control\" name=\"categoryId\"  value={this.state.addSubCategory.categoryId} onChange={this.handleChange}>\n//                                                                 <option>Choose Category</option>\n//                                                                     {this.state.allCategories.map(Category => (\n//                                                                         <option value={Category.id}>{Category.name}</option>\n//                                                                     ))}\n//                                                             </select>\n//                                                         </div>\n//                                                     </div>\n//                                                     <div className=\"row\">\n//                                                         <div className=\"col-lg-12 input-group input-group-merge\">\n//                                                             <div className=\"input-group-prepend\">\n//                                                                 <span className=\"input-group-text\"><i className=\"ni ni-books\"></i></span>\n//                                                             </div>\n//                                                             <textarea rows=\"3\" className=\"form-control\" type=\"text\" name=\"description\" value={this.state.addSubCategory.description} onChange={this.handleChange}>Enter Description</textarea>\n//                                                         </div>\n//                                                     </div>\n//                                                 </div>\n//                                                 <div className=\"form-group mb-3 my-modal-scroll\">\n//                                                     <div className=\"row justify-content-center\" id=\"call_all_images\">\n//                                                     </div>\n//                                                 </div>\n//                                             </div>\n//                                             <div className=\"modal-footer\">\n//                                                 <button type=\"submit\" className=\"btn btn-primary my-4\" name=\"add_sub_category\" onClick={this.state.isUpdated?this.handleUpdateSubCategory: this.handleAddSubCategory}>Add sub-category</button>\n//                                             </div>\n//                                         </form>\n//                                     </div>\n//                                 </div>\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n//             <div className=\"container-fluid mt--6\">\n//                 <div className=\"row\">\n//                     {this.state.allCategories.map(Category => (\n//                         <div className=\"col-xl-4 pb-4\">\n//                             <div className=\"card-header\">\n//                                 <h5 className=\"h3 mb-0\">{Category.name}</h5>\n//                             </div>\n//                             <div className=\"card-header py-0\">\n//                                 <div className=\"card-body\">\n//                                     <ul className=\"list-group list-group-flush list my--3\">\n//                                         {this.state.allSubCategories.map(subCategory => (\n//                                             <li className=\"list-group-item px-0\">\n//                                                 <div className=\"row align-items-center\">\n//                                                     <img src=\"/assets/img/brand/white.png\" style={{width: '50px', borderRadius:'10px'}} alt=\"user\" />\n//                                                     <div className=\"col ml--2\">\n//                                                         <h4 className=\"mb-0\">\n//                                                             {subCategory.name}\n//                                                         </h4>\n//                                                     </div>\n//                                                     <div className=\"col-auto text-center\">\n//                                                         <button type=\"button\" className=\"btn btn-secondary mr-0\" data-toggle=\"modal\" data-target=\"#new\" onClick={(event) => this.getSubCategory(event, subCategory.id)}><i className=\"mr-0 fa fa-edit\"></i></button>\n//                                                         <button type=\"button\" className=\"btn btn-warning mr-0\" data-toggle=\"modal\" data-target={\"#delete\"+subCategory.id}><i className=\"ni ni-fat-remove\"></i></button>\n//                                                     </div>\n//                                                 </div>\n//                                                 <div className=\"modal fade\" id={\"delete\"+subCategory.id} tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\n//                                                     <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\n//                                                         <div className=\"modal-content\">\n//                                                             <form>\n//                                                                 <div className=\"modal-header\">\n//                                                                     <h6 className=\"modal-title\" id=\"modal-title-default\">Are You Sure?</h6>\n//                                                                     <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n//                                                                         <span aria-hidden=\"true\">×</span>\n//                                                                     </button>\n//                                                                 </div>\n//                                                                 <div className=\"modal-body\">\n//                                                                     <p>This will delete your item. You can't undo this</p>\n//                                                                 </div>\n//                                                                 <div className=\"modal-footer\">\n//                                                                     <button type=\"submit\" className=\"btn btn-warning\" name=\"delete_subCategory\" onClick={(event) => this.deleteSubCategory(event, subCategory.id)}>Delete</button>\n//                                                                 </div>\n//                                                             </form>\n//                                                         </div>\n//                                                     </div>\n//                                                 </div>\n//                                             </li>\n//                                         ))}\n//                                         <li className=\"list-group-item px-0\">\n//                                             <div className=\"row align-items-center\">\n//                                                 <div className=\"col ml--2\">\n//                                                     <h4 className=\"mb-0\">\n//                                                         <a href=\"#!\">No Sub Category</a>\n//                                                     </h4>\n//                                                 </div>\n//                                             </div>\n//                                         </li>\n//                                     </ul>\n//                                 </div>\n//                             </div>\n//                         </div>\n//                         // console.log(subCategory.id +\" \"+ subCategory.name)\n//                     ))}\n//                 </div>\n//             </div>\n//         </div>\n//         )\n//     }\n// }\n// export default SubCategory\n// import {useDispatch, useSelector} from 'react-redux'\n// import React, {useState, useEffect} from 'react'\n// import FileBase from 'react-file-base64'\n// import { getSubCategories, createSubCategory, updateSubCategory, deleteSubCategory } from '../actions/subCategories'\n// const SubCategories = () => {\n//     const [currentId, setCurrentId] = useState(null)\n//     const dispatch                  = useDispatch()\n//     const user                      = JSON.parse(localStorage.getItem('profile'))\n//     const subCategories             = useSelector((state) => state.subCategories)\n//     const editSubCategory           = useSelector((state) => currentId ? state.subCategories.find((e) => e._id === currentId) : null)\n//     const [subCategoryData, setSubCategoryData] = useState({\n//         title       : '',\n//         message     : '',\n//         tags        : '',\n//         selectedFile: ''\n//     })\n//     useEffect(() => {\n//         if(editSubCategory) setSubCategoryData(editSubCategory)\n//     },[editSubCategory])\n//     useEffect(() => {\n//         dispatch(getSubCategories())\n//       }, [dispatch])\n//     const handleSubmit = (e) => {\n//         e.preventDefault()\n//         if(currentId){\n//             dispatch(updateSubCategory(currentId, {...subCategoryData, name: user?.result?.name}))\n//         } else {\n//             dispatch(createSubCategory({...subCategoryData, name: user?.result?.name}))\n//         }\n//         clear()\n//     }\n//     const clear = () => {\n//         setCurrentId(null)\n//         setSubCategoryData({\n//             title       : '',\n//             message     : '',\n//             tags        : '',\n//             selectedFile: ''\n//         })\n//     }\n//     if(!user?.result?.name) {\n//         return(\n//             <div>\n//                 Please Sign In To continue\n//             </div>\n//         )\n//     }\n//     return(\n//         !subCategories.length === 0 ? <div>There are no SubCategory</div> : (\n//             <div>\n//                 <div className=\"header bg-primary pb-6\">\n//                     <div className=\"container-fluid\">\n//                         <div className=\"header-body\">\n//                             <div className=\"row align-items-center py-4\">\n//                                 <div className=\"col-lg-6 col-7\">\n//                                     <nav aria-label=\"breadcrumb\" className=\"d-none d-md-inline-block ml-md-4\">\n//                                         <ol className=\"breadcrumb breadcrumb-links breadcrumb-dark\">\n//                                             <li className=\"breadcrumb-item\"><a href=\"dashboard.php\"><i className=\"fas fa-home\"></i></a></li>\n//                                             <li className=\"breadcrumb-item\"><a href=\"categories.php\">SubCategories = {subCategories.length}</a></li>\n//                                         </ol>\n//                                     </nav>\n//                                 </div>\n//                                 <div className=\"col-lg-6 col-5 text-right\">\n//                                     <button type=\"button\" className=\"btn btn-sm btn-neutral\" data-toggle=\"modal\" data-target=\"#new\">Add New SubCategory</button>\n//                                     <div className=\"modal fade\" id=\"new\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\n//                                         <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\n//                                             <form onSubmit={handleSubmit}>\n//                                                 <div className=\"form-group mb-3\">\n//                                                     <div className=\"input-group input-group-merge\">\n//                                                         <div className=\"input-group-prepend\">\n//                                                             <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\n//                                                         </div>\n//                                                         <input className = \"form-control\" placeholder = \"Title\" type = \"text\" name = \"title\" value = {subCategoryData.title} onChange = {(e) => setSubCategoryData({...subCategoryData, title: e.target.value})} />\n//                                                         </div>\n//                                                 </div>\n//                                                 <div className=\"form-group mb-3\">\n//                                                     <div className=\"input-group input-group-merge\">\n//                                                         <div className=\"input-group-prepend\">\n//                                                             <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\n//                                                         </div>\n//                                                         <textarea className = \"form-control\" type = \"text\" name = \"message\" value = {subCategoryData.message} onChange = {(e) => setSubCategoryData({...subCategoryData, message: e.target.value})} >Enter description...</textarea>\n//                                                         </div>\n//                                                 </div>\n//                                                 <div className=\"form-group mb-3\">\n//                                                     <div className=\"input-group input-group-merge\">\n//                                                         <div className=\"input-group-prepend\">\n//                                                             <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\n//                                                         </div>\n//                                                         <input className = \"form-control\" type = \"text\" name = \"tags\" value = {subCategoryData.tags} onChange = {(e) => setSubCategoryData({...subCategoryData, tags: e.target.value.split(',')})} />\n//                                                     </div>\n//                                                 </div>\n//                                                 <div className=\"form-group mb-3\">\n//                                                     <FileBase\n//                                                         type=\"file\"\n//                                                         multiple={false}\n//                                                         onDone={({base64}) => setSubCategoryData({...subCategoryData, selectedFile:base64})}\n//                                                     />\n//                                                 </div>\n//                                                 <div className=\"text-center\">\n//                                                     <button type=\"submit\" className=\"btn btn-secondary\">Submit</button>\n//                                                     <button type=\"button\" className=\"btn btn-warning\" onClick={clear}>Clear</button>\n//                                                 </div>\n//                                             </form>\n//                                         </div>\n//                                     </div>\n//                                 </div>\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//                 <div className=\"container-fluid mt--6\">\n//                     <div className=\"row\">\n//                         <div className=\"col\">\n//                             <div className=\"card\">\n//                                 <div className=\"card-header\">\n//                                     <h3 className=\"mb-0\">All Accounts</h3>\n//                                 </div>\n//                                 <div className=\"table-responsive py-4\">\n//                                     <table className=\"table table-flush\" id=\"datatable-basic\">\n//                                         <thead className=\"thead-light\">\n//                                             <tr>\n//                                                 <th>Image</th>\n//                                                 <th>Name</th>\n//                                                 <th>Description</th>\n//                                                 <th>Tags</th>\n//                                                 <th>Actions</th>\n//                                                 <th>Actions</th>\n//                                             </tr>\n//                                         </thead>\n//                                         <tbody>\n//                                             { subCategories.map((subCategory) => (\n//                                                 <tr key={subCategory._id}>\n//                                                     <td className=\"align-middle\"><img src=\"{subCategory.selectedFile}\" style={{width: '50px', borderRadius:'10px'}} alt=\"Category\" /></td>\n//                                                     <td className=\"align-middle\">{subCategory.title}</td>\n//                                                     <td className=\"align-middle\">{subCategory.message}</td>\n//                                                     <td className=\"align-middle\">{subCategory.tags ? subCategory.tags.map((tag) => `#${tag} `) : 'No Tags'}</td>\n//                                                     <td className=\"align-middle\">\n//                                                         <button type=\"submit\" className=\"btn btn-secondary mr-0\" name=\"unban\"><i className=\"fa fa-eye\"></i></button>\n//                                                         <button type=\"submit\" className=\"btn btn-warning mr-0\" name=\"ban\"><i className=\"fa fa-eye-slash\"></i></button>\n//                                                     </td>\n//                                                     <td className=\"align-middle\">\n//                                                         {(user?.result?.googleId === subCategory?.creator || user?.result?._id === subCategory?.creator) && (\n//                                                             <div>\n//                                                                 <button type=\"button\" className=\"btn btn-secondary m-1\" data-toggle=\"modal\" data-target={'#delete' + subCategory._id} ><i className=\"fa fa-edit\"></i></button>\n//                                                                 <button type=\"button\" className=\"btn btn-warning mr-0\" data-toggle=\"modal\" data-target=\"#new\" onClick={() => setCurrentId(subCategory._id)}><i className=\"ni ni-fat-remove\"></i></button>\n//                                                             </div>\n//                                                         )}\n//                                                         <div className=\"modal fade\" id={'delete' + subCategory._id} tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\n//                                                             <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\n//                                                                 <div className=\"modal-content\">\n//                                                                     <div className=\"modal-header\">\n//                                                                         <h6 className=\"modal-title\" id=\"modal-title-default\">Are You Sure?</h6>\n//                                                                         <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n//                                                                             <span aria-hidden=\"true\">×</span>\n//                                                                         </button>\n//                                                                     </div>\n//                                                                     <div className=\"modal-body\">\n//                                                                         <p>This will delete your item. You can't undo this</p>\n//                                                                     </div>\n//                                                                     <div className=\"modal-footer\">\n//                                                                         <button className=\"btn btn-warning\" data-dismiss=\"modal\" onClick={() => dispatch(deleteSubCategory(subCategory._id))}>Delete SubCategory</button>\n//                                                                     </div>\n//                                                                 </div>\n//                                                             </div>\n//                                                         </div>\n//                                                     </td>\n//                                                 </tr>\n//                                             ))}\n//                                         </tbody>\n//                                     </table>\n//                                 </div>\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n//         )\n//     )\n// }\n// export default SubCategories","map":{"version":3,"sources":["C:/xampp/htdocs/aaa/admin/src/views/subcategories.js"],"names":[],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React from 'react'\r\n\r\n// class SubCategory extends React.Component{\r\n//     constructor(props){\r\n//         super(props)\r\n//         this.state = {\r\n//             allCategories   : [],\r\n//             allSubCategories: [],\r\n//             addSubCategory  : {\r\n//                 name       : '',\r\n//                 description: '',\r\n//                 categoryId : '',\r\n//                 id         : '0'\r\n//             },\r\n//             isUpdated: false\r\n//         }\r\n//         this.getAllCategories        = this.getAllCategories.bind(this)\r\n//         this.getAllSubCategories     = this.getAllSubCategories.bind(this)\r\n//         this.handleChange            = this.handleChange.bind(this)\r\n//         this.handleAddSubCategory    = this.handleAddSubCategory.bind(this)\r\n//         this.getSubCategory          = this.getSubCategory.bind(this)\r\n//         this.handleUpdateSubCategory = this.handleUpdateSubCategory.bind(this)\r\n//         this.deleteSubCategory       = this.deleteSubCategory.bind(this)\r\n//     }\r\n\r\n//     componentWillMount() {\r\n//         this.getAllCategories()\r\n//         this.getAllSubCategories()\r\n//     }\r\n\r\n//     getAllCategories() {\r\n//         fetch('http://localhost:8080/api/categories').then(res => res.json()).then(result => {\r\n//             this.setState({\r\n//                 allCategories : result,\r\n//                 isUpdated: false\r\n//             })\r\n//         })\r\n//     }\r\n\r\n//     getAllSubCategories() {\r\n//         fetch('http://localhost:8080/api/subCategories').then(res => res.json()).then(result => {\r\n//             this.setState({\r\n//                 allSubCategories : result,\r\n//                 isUpdated: false\r\n//             })\r\n//         })\r\n//     }\r\n\r\n//     handleChange(event) {\r\n//         this.setState({\r\n//             addSubCategory:{\r\n//                 ...this.state.addSubCategory,\r\n//                 [event.target.name]: event.target.value,\r\n//                 id                 : this.state.addSubCategory.id\r\n//             }\r\n//         })\r\n//     }\r\n    \r\n//     handleAddSubCategory() {\r\n//         // alert(JSON.stringify(this.state.addSubCategory))\r\n//         fetch('http://localhost:8080/api/subCategories/addSubCategory', {\r\n//             method : 'POST',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json'\r\n//             },\r\n//             body: JSON.stringify(this.state.addSubCategory)\r\n//         }).then(this.setState({\r\n//             addSubCategory: {\r\n//                 name       : '',\r\n//                 description: '',\r\n//                 categoryId : '',\r\n//             },\r\n//             isUpdated: false\r\n//         }))\r\n//     }\r\n\r\n//     getSubCategory(event, id) {\r\n//         fetch('http://localhost:8080/api/subCategories' + id).then(res => res.json()).then(result => {\r\n//             this.setState({\r\n//                 addSubCategory: {\r\n//                     name       : result[0].name,\r\n//                     description: result[0].description,\r\n//                     categoryId : result[0].categoryId,\r\n//                     id         : result[0].id\r\n//                 },\r\n//                 isUpdated: true\r\n//             })\r\n//         })\r\n//     }\r\n\r\n//     handleUpdateSubCategory() {\r\n//         fetch('http://localhost:8080/api/subCategories' + this.state.addSubCategory.id, {\r\n//             method : 'PUT',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json'\r\n//             },\r\n//             body: JSON.stringify(this.state.addSubCategory)\r\n//         }).then(\r\n//             this.getAllSubCategories()\r\n//         )\r\n//     }\r\n\r\n//     deleteSubCategory(event, id) {\r\n//         fetch('http://localhost:8080/api/subCategories' + id, {\r\n//             method : 'DELETE',\r\n//         }).then(\r\n//             this.getAllSubCategories()\r\n//         )\r\n//     }\r\n\r\n//     render(){\r\n//         return(\r\n//             <div>\r\n//             <div className=\"header bg-primary pb-6\">\r\n//                 <div className=\"container-fluid\">\r\n//                     <div className=\"header-body\">\r\n//                         <div className=\"row align-items-center py-4\">\r\n//                             <div className=\"col-lg-6 col-7\">\r\n//                                 <nav aria-label=\"breadcrumb\" className=\"d-none d-md-inline-block ml-md-4\">\r\n//                                     <ol className=\"breadcrumb breadcrumb-links breadcrumb-dark\">\r\n//                                         <li className=\"breadcrumb-item\"><a href=\"dashboard.php\"><i className=\"fas fa-home\"></i></a></li>\r\n//                                         <li className=\"breadcrumb-item\"><a href=\"banners.php\">Sub Categories</a></li>\r\n//                                     </ol>\r\n//                                 </nav>\r\n//                             </div>\r\n//                             <div className=\"col-lg-6 col-5 text-right\">\r\n//                                 <button type=\"button\" className=\"btn btn-sm btn-neutral\" data-toggle=\"modal\" data-target=\"#new\" onclick=\"call_all_images()\">\r\n//                                 <span className=\"btn-inner--icon\"><i className=\"ni ni-fat-add\"></i></span>\r\n//                                 <span className=\"btn-inner--text\">Add Sub-category</span>\r\n//                                 </button>\r\n//                             </div>\r\n//                             <div className=\"modal fade\" id=\"new\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\r\n//                                 <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\r\n//                                     <div className=\"modal-content\">\r\n//                                         <form>\r\n//                                             <div className=\"modal-header\">\r\n//                                                 <h6 className=\"modal-title\" id=\"modal-title-default\">Add new sub-category</h6>\r\n//                                                 <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n//                                                 <span aria-hidden=\"true\">×</span>\r\n//                                                 </button>\r\n//                                             </div>\r\n//                                             <div className=\"modal-body\">\r\n//                                                 <div className=\"form-group mb-3\">\r\n//                                                     <div className=\"row\">\r\n//                                                         <div className=\"col-lg-6 input-group input-group-merge\">\r\n//                                                             <div className=\"input-group-prepend\">\r\n//                                                                 <span className=\"input-group-text\"><i className=\"ni ni-books\"></i></span>\r\n//                                                             </div>\r\n//                                                             <input className=\"form-control\" placeholder=\"Enter Name\" type=\"text\" name=\"name\" value={this.state.addSubCategory.name} onChange={this.handleChange} />\r\n//                                                         </div>\r\n//                                                         <div className=\"col-lg-6 input-group input-group-merge\">\r\n//                                                             <div className=\"input-group-prepend\">\r\n//                                                                 <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\r\n//                                                             </div>\r\n//                                                             <select className=\"form-control\" name=\"categoryId\"  value={this.state.addSubCategory.categoryId} onChange={this.handleChange}>\r\n//                                                                 <option>Choose Category</option>\r\n//                                                                     {this.state.allCategories.map(Category => (\r\n//                                                                         <option value={Category.id}>{Category.name}</option>\r\n//                                                                     ))}\r\n//                                                             </select>\r\n//                                                         </div>\r\n//                                                     </div>\r\n//                                                     <div className=\"row\">\r\n//                                                         <div className=\"col-lg-12 input-group input-group-merge\">\r\n//                                                             <div className=\"input-group-prepend\">\r\n//                                                                 <span className=\"input-group-text\"><i className=\"ni ni-books\"></i></span>\r\n//                                                             </div>\r\n//                                                             <textarea rows=\"3\" className=\"form-control\" type=\"text\" name=\"description\" value={this.state.addSubCategory.description} onChange={this.handleChange}>Enter Description</textarea>\r\n//                                                         </div>\r\n//                                                     </div>\r\n//                                                 </div>\r\n//                                                 <div className=\"form-group mb-3 my-modal-scroll\">\r\n//                                                     <div className=\"row justify-content-center\" id=\"call_all_images\">\r\n//                                                     </div>\r\n//                                                 </div>\r\n//                                             </div>\r\n//                                             <div className=\"modal-footer\">\r\n//                                                 <button type=\"submit\" className=\"btn btn-primary my-4\" name=\"add_sub_category\" onClick={this.state.isUpdated?this.handleUpdateSubCategory: this.handleAddSubCategory}>Add sub-category</button>\r\n//                                             </div>\r\n//                                         </form>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"container-fluid mt--6\">\r\n//                 <div className=\"row\">\r\n//                     {this.state.allCategories.map(Category => (\r\n//                         <div className=\"col-xl-4 pb-4\">\r\n//                             <div className=\"card-header\">\r\n//                                 <h5 className=\"h3 mb-0\">{Category.name}</h5>\r\n//                             </div>\r\n//                             <div className=\"card-header py-0\">\r\n//                                 <div className=\"card-body\">\r\n//                                     <ul className=\"list-group list-group-flush list my--3\">\r\n//                                         {this.state.allSubCategories.map(subCategory => (\r\n                                            \r\n//                                             <li className=\"list-group-item px-0\">\r\n//                                                 <div className=\"row align-items-center\">\r\n//                                                     <img src=\"/assets/img/brand/white.png\" style={{width: '50px', borderRadius:'10px'}} alt=\"user\" />\r\n//                                                     <div className=\"col ml--2\">\r\n//                                                         <h4 className=\"mb-0\">\r\n//                                                             {subCategory.name}\r\n//                                                         </h4>\r\n//                                                     </div>\r\n//                                                     <div className=\"col-auto text-center\">\r\n//                                                         <button type=\"button\" className=\"btn btn-secondary mr-0\" data-toggle=\"modal\" data-target=\"#new\" onClick={(event) => this.getSubCategory(event, subCategory.id)}><i className=\"mr-0 fa fa-edit\"></i></button>\r\n//                                                         <button type=\"button\" className=\"btn btn-warning mr-0\" data-toggle=\"modal\" data-target={\"#delete\"+subCategory.id}><i className=\"ni ni-fat-remove\"></i></button>\r\n//                                                     </div>\r\n//                                                 </div>\r\n                                                            \r\n//                                                 <div className=\"modal fade\" id={\"delete\"+subCategory.id} tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\r\n//                                                     <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\r\n//                                                         <div className=\"modal-content\">\r\n//                                                             <form>\r\n//                                                                 <div className=\"modal-header\">\r\n//                                                                     <h6 className=\"modal-title\" id=\"modal-title-default\">Are You Sure?</h6>\r\n//                                                                     <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n//                                                                         <span aria-hidden=\"true\">×</span>\r\n//                                                                     </button>\r\n//                                                                 </div>\r\n//                                                                 <div className=\"modal-body\">\r\n//                                                                     <p>This will delete your item. You can't undo this</p>\r\n//                                                                 </div>\r\n//                                                                 <div className=\"modal-footer\">\r\n//                                                                     <button type=\"submit\" className=\"btn btn-warning\" name=\"delete_subCategory\" onClick={(event) => this.deleteSubCategory(event, subCategory.id)}>Delete</button>\r\n//                                                                 </div>\r\n//                                                             </form>\r\n//                                                         </div>\r\n//                                                     </div>\r\n//                                                 </div>\r\n//                                             </li>\r\n                                                \r\n//                                         ))}\r\n//                                         <li className=\"list-group-item px-0\">\r\n//                                             <div className=\"row align-items-center\">\r\n//                                                 <div className=\"col ml--2\">\r\n//                                                     <h4 className=\"mb-0\">\r\n//                                                         <a href=\"#!\">No Sub Category</a>\r\n//                                                     </h4>\r\n//                                                 </div>\r\n//                                             </div>\r\n//                                         </li>\r\n//                                     </ul>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                         // console.log(subCategory.id +\" \"+ subCategory.name)\r\n//                     ))}\r\n//                 </div>\r\n//             </div>\r\n//         </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n\r\n// export default SubCategory\r\n\r\n\r\n// import {useDispatch, useSelector} from 'react-redux'\r\n// import React, {useState, useEffect} from 'react'\r\n// import FileBase from 'react-file-base64'\r\n\r\n// import { getSubCategories, createSubCategory, updateSubCategory, deleteSubCategory } from '../actions/subCategories'\r\n\r\n// const SubCategories = () => {\r\n\r\n//     const [currentId, setCurrentId] = useState(null)\r\n//     const dispatch                  = useDispatch()\r\n//     const user                      = JSON.parse(localStorage.getItem('profile'))\r\n//     const subCategories             = useSelector((state) => state.subCategories)\r\n//     const editSubCategory           = useSelector((state) => currentId ? state.subCategories.find((e) => e._id === currentId) : null)\r\n\r\n//     const [subCategoryData, setSubCategoryData] = useState({\r\n//         title       : '',\r\n//         message     : '',\r\n//         tags        : '',\r\n//         selectedFile: ''\r\n//     })\r\n\r\n\r\n//     useEffect(() => {\r\n//         if(editSubCategory) setSubCategoryData(editSubCategory)\r\n//     },[editSubCategory])\r\n    \r\n//     useEffect(() => {\r\n//         dispatch(getSubCategories())\r\n//       }, [dispatch])\r\n\r\n//     const handleSubmit = (e) => {\r\n//         e.preventDefault()\r\n\r\n//         if(currentId){\r\n//             dispatch(updateSubCategory(currentId, {...subCategoryData, name: user?.result?.name}))\r\n//         } else {\r\n//             dispatch(createSubCategory({...subCategoryData, name: user?.result?.name}))\r\n//         }\r\n//         clear()\r\n//     }\r\n\r\n//     const clear = () => {\r\n//         setCurrentId(null)\r\n//         setSubCategoryData({\r\n//             title       : '',\r\n//             message     : '',\r\n//             tags        : '',\r\n//             selectedFile: ''\r\n//         })\r\n//     }\r\n\r\n//     if(!user?.result?.name) {\r\n//         return(\r\n//             <div>\r\n//                 Please Sign In To continue\r\n//             </div>\r\n//         )\r\n//     }\r\n\r\n//     return(\r\n//         !subCategories.length === 0 ? <div>There are no SubCategory</div> : (\r\n//             <div>\r\n//                 <div className=\"header bg-primary pb-6\">\r\n//                     <div className=\"container-fluid\">\r\n//                         <div className=\"header-body\">\r\n//                             <div className=\"row align-items-center py-4\">\r\n//                                 <div className=\"col-lg-6 col-7\">\r\n//                                     <nav aria-label=\"breadcrumb\" className=\"d-none d-md-inline-block ml-md-4\">\r\n//                                         <ol className=\"breadcrumb breadcrumb-links breadcrumb-dark\">\r\n//                                             <li className=\"breadcrumb-item\"><a href=\"dashboard.php\"><i className=\"fas fa-home\"></i></a></li>\r\n//                                             <li className=\"breadcrumb-item\"><a href=\"categories.php\">SubCategories = {subCategories.length}</a></li>\r\n//                                         </ol>\r\n//                                     </nav>\r\n//                                 </div>\r\n//                                 <div className=\"col-lg-6 col-5 text-right\">\r\n//                                     <button type=\"button\" className=\"btn btn-sm btn-neutral\" data-toggle=\"modal\" data-target=\"#new\">Add New SubCategory</button>\r\n//                                     <div className=\"modal fade\" id=\"new\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\r\n//                                         <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\r\n//                                             <form onSubmit={handleSubmit}>\r\n//                                                 <div className=\"form-group mb-3\">\r\n//                                                     <div className=\"input-group input-group-merge\">\r\n//                                                         <div className=\"input-group-prepend\">\r\n//                                                             <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\r\n//                                                         </div>\r\n//                                                         <input className = \"form-control\" placeholder = \"Title\" type = \"text\" name = \"title\" value = {subCategoryData.title} onChange = {(e) => setSubCategoryData({...subCategoryData, title: e.target.value})} />\r\n//                                                         </div>\r\n//                                                 </div>\r\n//                                                 <div className=\"form-group mb-3\">\r\n//                                                     <div className=\"input-group input-group-merge\">\r\n//                                                         <div className=\"input-group-prepend\">\r\n//                                                             <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\r\n//                                                         </div>\r\n//                                                         <textarea className = \"form-control\" type = \"text\" name = \"message\" value = {subCategoryData.message} onChange = {(e) => setSubCategoryData({...subCategoryData, message: e.target.value})} >Enter description...</textarea>\r\n//                                                         </div>\r\n//                                                 </div>\r\n//                                                 <div className=\"form-group mb-3\">\r\n//                                                     <div className=\"input-group input-group-merge\">\r\n//                                                         <div className=\"input-group-prepend\">\r\n//                                                             <span className=\"input-group-text\"><i className=\"fa fa-expand-alt\"></i></span>\r\n//                                                         </div>\r\n//                                                         <input className = \"form-control\" type = \"text\" name = \"tags\" value = {subCategoryData.tags} onChange = {(e) => setSubCategoryData({...subCategoryData, tags: e.target.value.split(',')})} />\r\n//                                                     </div>\r\n//                                                 </div>\r\n//                                                 <div className=\"form-group mb-3\">\r\n//                                                     <FileBase\r\n//                                                         type=\"file\"\r\n//                                                         multiple={false}\r\n//                                                         onDone={({base64}) => setSubCategoryData({...subCategoryData, selectedFile:base64})}\r\n//                                                     />\r\n//                                                 </div>\r\n//                                                 <div className=\"text-center\">\r\n//                                                     <button type=\"submit\" className=\"btn btn-secondary\">Submit</button>\r\n//                                                     <button type=\"button\" className=\"btn btn-warning\" onClick={clear}>Clear</button>\r\n//                                                 </div>\r\n//                                             </form>\r\n//                                         </div>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n//                 <div className=\"container-fluid mt--6\">\r\n//                     <div className=\"row\">\r\n//                         <div className=\"col\">\r\n//                             <div className=\"card\">\r\n//                                 <div className=\"card-header\">\r\n//                                     <h3 className=\"mb-0\">All Accounts</h3>\r\n//                                 </div>\r\n//                                 <div className=\"table-responsive py-4\">\r\n//                                     <table className=\"table table-flush\" id=\"datatable-basic\">\r\n//                                         <thead className=\"thead-light\">\r\n//                                             <tr>\r\n//                                                 <th>Image</th>\r\n//                                                 <th>Name</th>\r\n//                                                 <th>Description</th>\r\n//                                                 <th>Tags</th>\r\n//                                                 <th>Actions</th>\r\n//                                                 <th>Actions</th>\r\n//                                             </tr>\r\n//                                         </thead>\r\n//                                         <tbody>\r\n//                                             { subCategories.map((subCategory) => (\r\n//                                                 <tr key={subCategory._id}>\r\n//                                                     <td className=\"align-middle\"><img src=\"{subCategory.selectedFile}\" style={{width: '50px', borderRadius:'10px'}} alt=\"Category\" /></td>\r\n//                                                     <td className=\"align-middle\">{subCategory.title}</td>\r\n//                                                     <td className=\"align-middle\">{subCategory.message}</td>\r\n//                                                     <td className=\"align-middle\">{subCategory.tags ? subCategory.tags.map((tag) => `#${tag} `) : 'No Tags'}</td>\r\n//                                                     <td className=\"align-middle\">\r\n//                                                         <button type=\"submit\" className=\"btn btn-secondary mr-0\" name=\"unban\"><i className=\"fa fa-eye\"></i></button>\r\n//                                                         <button type=\"submit\" className=\"btn btn-warning mr-0\" name=\"ban\"><i className=\"fa fa-eye-slash\"></i></button>\r\n//                                                     </td>\r\n//                                                     <td className=\"align-middle\">\r\n//                                                         {(user?.result?.googleId === subCategory?.creator || user?.result?._id === subCategory?.creator) && (\r\n//                                                             <div>\r\n//                                                                 <button type=\"button\" className=\"btn btn-secondary m-1\" data-toggle=\"modal\" data-target={'#delete' + subCategory._id} ><i className=\"fa fa-edit\"></i></button>\r\n//                                                                 <button type=\"button\" className=\"btn btn-warning mr-0\" data-toggle=\"modal\" data-target=\"#new\" onClick={() => setCurrentId(subCategory._id)}><i className=\"ni ni-fat-remove\"></i></button>\r\n//                                                             </div>\r\n//                                                         )}\r\n                                                        \r\n//                                                         <div className=\"modal fade\" id={'delete' + subCategory._id} tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-default\" aria-hidden=\"true\">\r\n//                                                             <div className=\"modal-dialog modal- modal-dialog-centered modal-\" role=\"document\">\r\n//                                                                 <div className=\"modal-content\">\r\n//                                                                     <div className=\"modal-header\">\r\n//                                                                         <h6 className=\"modal-title\" id=\"modal-title-default\">Are You Sure?</h6>\r\n//                                                                         <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n//                                                                             <span aria-hidden=\"true\">×</span>\r\n//                                                                         </button>\r\n//                                                                     </div>\r\n//                                                                     <div className=\"modal-body\">\r\n//                                                                         <p>This will delete your item. You can't undo this</p>\r\n//                                                                     </div>\r\n//                                                                     <div className=\"modal-footer\">\r\n//                                                                         <button className=\"btn btn-warning\" data-dismiss=\"modal\" onClick={() => dispatch(deleteSubCategory(subCategory._id))}>Delete SubCategory</button>\r\n//                                                                     </div>\r\n//                                                                 </div>\r\n//                                                             </div>\r\n//                                                         </div>\r\n//                                                     </td>\r\n//                                                 </tr>\r\n//                                             ))}\r\n//                                         </tbody>\r\n//                                     </table>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//         )\r\n//     )\r\n// }\r\n\r\n// export default SubCategories\r\n\r\n"]},"metadata":{},"sourceType":"module"}